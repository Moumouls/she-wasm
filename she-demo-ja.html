<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<title>Two-level Homomorphic Encryption demo</title>
	<link rel="stylesheet" href="mobile.css">
	<script src="jquery-3.2.1.min.js"></script>
	<script src="she_c.js"></script>
	<script src="she.js"></script>
	<script src="she-demo-ja.js"></script>
</head>
<body>

<h1>内積の秘匿計算デモ</h1>
<h3>ライブラリ：</h3><span name="status">初期化中</span>

<h2>データ提供者</h2>
<h3>秘密鍵：</h3><span name="sec" class="hex"></span>

<table border=1 id="client_table" width="100%" summary="client">
<tr id="client_header"><th>x<th>y<th class="hex">Enc(x)<th class="hex">Enc(y)</tr>
</table>
<input type="text" name="append" value="1,1">
<button type="button" onclick="append()">"x,y"を追加する</button> または
<button type="button" onclick="appendRand()">プリセットを追加する</button>
<br>
<button type="button" onclick="send()">暗号文をサーバに送信</button>

<hr>

<h2>代理秘匿計算サーバ</h2>
<h3>公開鍵：</h3><span name="pub" class="hex"></span>

<table border=1 id="server_table" width="100%" summary="server">
</table>
<button type="button" onclick="mul_sum()">暗号文のまま各行の積を取りその値を集計する</button><br>
<h3>集計結果：</h3><span name="encSumS" class="hex">0</span>
<br>
<button type="button" onclick="recv()">クライアントに送信する</button>


<hr>
<h2>復号クライアント</h2>

<h3>暗号文の計算結果：</h3><span name="encSumC" class="hex">0</span>
<br>
<button type="button" onclick="dec()">復号する</button><br>
<h3>集計結果：</h3><span name="ret">0</span>

<hr>
<h2>ベンチマーク</h2>
<button type="button" onclick="benchAll()">benchAll</button><br>

<table border=1 id="benchAll" width="100%" summary="benchAll">
<tr><th>op<th>msec
<tr><th>EncG1<th><span name="EncG1T">0</span>
<tr><th>EncG2<th><span name="EncG2T">0</span>
<tr><th>AddG1<th><span name="AddG1T">0</span>
<tr><th>AddG2<th><span name="AddG2T">0</span>
<tr><th>AddGT<th><span name="AddGTT">0</span>
<tr><th>Mul<th><span name="MulT">0</span>
<tr><th>DecGT<th><span name="DecGTT">0</span>
</table>

</body>
</html>
